(function(){function n(){p();(new MutationObserver(function(a){a.forEach(function(a){a.addedNodes&&Array.forEach(a.addedNodes,function(a){a instanceof Element&&(a.childElementCount?Array.forEach(a.querySelectorAll("input[type=range]"),l):a.mozMatchesSelector("input[type=range]")&&l(a))})})})).observe(document,{childList:!0,subtree:!0})}function p(){Array.forEach(document.querySelectorAll("input[type=range]"),l)}function l(a){"range"!=a.type&&E(a)}function E(a){function f(a){var c=(parseFloat(getComputedStyle(this).width)-
h.width)/k;c&&(r+=(a.clientX-u)/c,u=a.clientX,q=!0,this.value=r)}function C(){this.removeEventListener("mousemove",f,!0);this.removeEventListener("mouseup",C,!0);a.dispatchEvent(v);a.dispatchEvent(D)}function l(){w||(this.style.boxShadow=e?"inset 0 0 20px rgba(0,127,255,.1), 0 0 1px rgba(0,127,255,.4)":"0 0 0 2px #fb0")}function s(a){return!isNaN(a)&&+a==parseFloat(a)}function n(){d=s(a.min)?+a.min:0;m=s(a.max)?+a.max:100;m<d&&(m=100<d?d:100);g=s(a.step)&&0<a.step?+a.step:1;k=m-d;x(!0)}function x(f){y||
z||(b=a.getAttribute("value"));s(b)||(b=(d+m)/2);b=Math.round((b-d)/g)*g+d;b<d?b=d:b>m&&(b=d+~~(k/g)*g);var c=q;q=!1;c&&b!=A&&a.dispatchEvent(v);if(f||b!=A)A=b,B(a,{background:"-moz-element(#__sliderthumb__) "+(k?100*((b-d)/k):0)+"% no-repeat, "+F})}var y,z,q,w,A,r,u,d,m,g,k,b=a.value;t||(t=document.body.appendChild(document.createElement("hr")),B(t,{"-moz-appearance":e?"scale-horizontal":"scalethumb-horizontal",display:"block",visibility:"visible",opacity:1,position:"fixed",top:"-999999px"}),document.mozSetImageElement("__sliderthumb__",
t));var p=function(){return""+b};a.__defineGetter__("value",p);a.__defineSetter__("value",function c(d){b=""+d;y=!0;x();delete a.value;a.value=b;a.__defineGetter__("value",p);a.__defineSetter__("value",c)});Object.defineProperty(a,"type",{get:function(){return"range"}});["min","max","step"].forEach(function(c){a.hasAttribute(c)&&(z=!0);Object.defineProperty(a,c,{get:function(){return this.hasAttribute(c)?this.getAttribute(c):""},set:function(a){null===a?this.removeAttribute(c):this.setAttribute(c,
a)}})});a.readOnly=!0;B(a,G);n();(new MutationObserver(function(c){c.forEach(function(c){"value"!=c.attributeName?(n(),z=!0):y||(b=a.getAttribute("value"),x())})})).observe(a,H);a.addEventListener("mousedown",function(a){w=!0;setTimeout(function(){w=!1},0);if(!a.button&&k){var e=(parseFloat(getComputedStyle(this).width)-h.width)/k;if(e){var g=a.clientX-this.getBoundingClientRect().left-h.width/2-(b-d)*e;Math.abs(g)>h.radius&&(q=!0,this.value-=-g/e);r=b;u=a.clientX;this.addEventListener("mousemove",
f,!0);this.addEventListener("mouseup",C,!0)}}},!0);a.addEventListener("keydown",function(a){36<a.keyCode&&41>a.keyCode&&(l.call(this),q=!0,this.value=b+(38==a.keyCode||39==a.keyCode?g:-g))},!0);a.addEventListener("focus",l,!0);a.addEventListener("blur",function(){this.style.boxShadow=""},!0)}function B(a,e){for(var f in e)a.style.setProperty(f,e[f],"important")}var f=document.createElement("input");try{if(f.type="range","range"==f.type)return}catch(I){return}f.style.background="linear-gradient(red, red)";
if(f.style.backgroundImage&&"MozAppearance"in f.style){var t,e="MacIntel"==navigator.platform,h={radius:e?9:6,width:e?22:12,height:e?16:20},F="linear-gradient(transparent "+(e?"6px, #999 6px, #999 7px, #ccc 8px, #bbb 9px, #bbb 10px, transparent 10px":"9px, #999 9px, #bbb 10px, #fff 11px, transparent 11px")+", transparent)",G={"min-width":h.width+"px","min-height":h.height+"px","max-height":h.height+"px",padding:"0 0 "+(e?"2px":"1px"),border:0,"border-radius":0,cursor:"default","text-indent":"-999999px"},
H={attributes:!0,attributeFilter:["min","max","step","value"]},v=document.createEvent("HTMLEvents");v.initEvent("input",!0,!1);var D=document.createEvent("HTMLEvents");D.initEvent("change",!0,!1);"loading"==document.readyState?document.addEventListener("DOMContentLoaded",n,!0):n();addEventListener("pageshow",p,!0)}})();
