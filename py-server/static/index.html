<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Shakespare | Termite | Topic Model Visualization</title>
	<link rel="stylesheet" type="text/css" href="termite/termite.css" />
	<link rel="stylesheet" type="text/css" href="termite/InteractionObjects.css" />
	
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
	
	<script type="text/javascript" src="/static/lib/ext/angular-1.2.9/angular.js"></script>
	
	<script type="text/javascript" src="/static/lib/ang-dnd.js"></script>
  <!--<script type="text/javascript" src="/static/lib/ext/ui-utils.min.js"></script>-->

	<script type="text/javascript" src="AngShowDocs.js"></script>

	<script type="text/javascript" src="/static/lib/ext/underscore-min-1.5.0.js"></script>
	<script type="text/javascript" src="/static/lib/ext/backbone.min.js"></script>
	<script type="text/javascript" src="/static/lib/ext/d3.v3.min.js"></script> 
	<script type="text/javascript" src="/static/lib/ext/html5slider.min.js"></script>

	<script type="text/javascript" src="termite/ParentTermTopicProbabilityModel.js"></script>
	<script type="text/javascript" src="termite/TermTopicProbabilityModel.js"></script>
	<script type="text/javascript" src="termite/TermFrequencyModel.js"></script>
	<script type="text/javascript" src="termite/ViewParameters.js"></script>
	<script type="text/javascript" src="termite/TermTopicMatrixView.js"></script>
	<script type="text/javascript" src="termite/TermFrequencyView.js"></script>
	<script type="text/javascript" src="termite/UserControlViews.js"></script>
	<script type="text/javascript" src="termite/StateModel.js"></script>
	<script type="text/javascript" src="termite/QueryString.js"></script>

</head>
<body ng-app="termiteTopicDisplay">
<div id="pageFrame" ng-controller="msgCtrl">

  <div id="pageHeader">
    <div id="pageControl" class="headerObject">
    <!--<div ng-include="'termite-hdr.html'" onLoad="onLoad()"></div>-->
    <table cellspacing="5" width="100%">
    <tr>
      <td colspan="100%" style="vertical-align: top">
        <select name="LDAModel" ng-model="LDAModel"
          ng-options="m for m in LDAModels"
          ng-change="changeModel()" style="width:280px">
        </select>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top">
        <div class="line">
            Currently showing
            <div class="TotalTermsView" style="display:inline">25</div>
            total terms.
        </div>
        <div class="line">
            Show top:
            <input class="AffinityNumTermsSlider" style="display:inline; width: 140px; vertical-align: -5px;" type="range" max="100" min="10" value="25"/>
            <div class="AffinityNumTermsView" style="display:inline">25</div>
            terms by affinity.</div>
        <div class="line">
            Show top:
            <input class="SalientNumTermsSlider" style="display:inline; width: 140px; vertical-align: -5px;" type="range" max="100" min="0" value="0"/>
            <div class="SalientNumTermsView" style="display:inline-block">0</div>
            terms by saliency.
        </div>
      </td>
      <td style="vertical-align: top">
	        <div class="line">
	            Add top terms for clicked topics
	            <input type="checkbox" class="TopTwentyAddition" style="display:inline-block" />
	        </div>
	    </td>
	    <td style="vertical-align: top">
	      <div class="line">
	        <button type="button" class="clearAll" style="width: 150px">Clear all topic selections</button>
	      </div>
	    </td>
      </tr>
    </table>

    </div>
  </div>

	<style>
	#.slide-out-div { padding:20px; height:800px; width:400px; background: #fff; border: 10px solid #666; }
	.wrapper1, .wrapper2 { overflow-x:scroll; overflow-y:hidden; }
	.wrapper1 { height: 20px; }
	.div1     { width:100%; height:20px; }
	.charText { color: #666; font-family: Verdana; font-size: 8pt;padding:10px 5px 10px; }
	.popupDiv { width:30%; height:60%; position:absolute;
	  top:30%; right:5%; border:10px solid #eee; background: white;
	  overflow:none; padding:0px 0px 0px;
	}

	table { border:1px solid #ccc; border-collapse: collapse; width:100%; }
	tbody td, tbody th { vertical-align:top; padding:2px 3px; }
	thead th { padding:1px 6px 1px 3px; background:#fefefe; text-align:left; font-weight:normal; font-size:11px; border:1px solid #ddd; }
	tbody th { width:12em; text-align:right; color:#666; padding-right:.5em; }
	</style>

  <div id="pageContent" ng-controller="contentCtrl">
    <div style="vertical-align:top;height:800px;overflow-y:scroll;overflow-x:auto;">
    <table border=1 cellpadding=1 cellspacing=1 width="100%">
    <tr>
      <td style="width:600px;">
        <!-- Main matrix -->
        <div class="termTopicMatrixContainer"></div>
      </td>
      <td>
        <!-- Frequent terms -->
        <div class="termFrequencyContainer"></div>
      </td>
    </tr>
    </table>
    </div>

    <!-- Related documents -->
    <div my-draggable id="topicPopup" ng-show="showTopicDetails===1" class="popupDiv">
      <!--
      <div style="position:absolute;width:90%;padding:5px 30px 5px;">
        -div align="right">
          <button ng-click="showTopicDetails=0">Close</button>
        </div>
      </div-->

      <div style="height:30%;overflow-y:scroll;border:1px solid #ccc;">
        <span style="color: #666; font-family: Verdana; font-size: 8pt;">
          {{selectedTopic}}
        </span>
        <table border=1 cellpadding=1 cellspacing=0 width=200>
          <tr ng-repeat="doc in topDocsForTopic" style="color:#666; font-family:Verdana; font-size:8pt;">
            <td><a href="" ng-click="getDocContent(doc.char)">{{doc.char}}</a></td>
            <td>{{doc.score}}</td>
          </tr>
        </table>
      </div>
      <div style="height:70%;border:1px solid #ccc;">
        <div style="height:10%">
	        <div align="left" style="padding-top:10px;font-family: Verdana; font-size: 8pt;">
	          Topic Score:
	          <span ng-repeat="color in colorAxis.colors">
	            <span style="background-color:{{color}}">&gt;{{colorAxis.values[$index]}}</span>
	          </span>
	        </div>
	        <div style="padding:5px 10px 5px;">
	          <div align="top">{{docName}}</div>
	        </div>
        </div>
        <div style="overflow-y:scroll;height:90%">
          <div ng-bind-html="docContent"></div>
        </div>
      </div>
    </div>

  </div> <!-- END PageContent, CONTROLLER: contentCtrl-->

  <div id="pageDetails">
    <p>This visualization shows the topical distribution of words in a corpus.</p>
    <p>The area of a circle is proportional to a word's frequency in a topic.</p>
  </div>

  <div id="pageFooter">
    Termite | Topic Model Visualization | Visualization by Jason Chuang, Ashley Jin, Stanford Vis Group
    | http://termite.stanford.edu | Version 1.1
  </div>

</div>

</body>
</html>
